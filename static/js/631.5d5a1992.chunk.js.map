{"version":3,"file":"static/js/631.5d5a1992.chunk.js","mappings":"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","sources":["../node_modules/eth-json-rpc-middleware/block-cache.js","../node_modules/eth-json-rpc-middleware/cache-utils.js","../node_modules/eth-json-rpc-middleware/node_modules/json-rpc-engine/src/createAsyncMiddleware.js","../node_modules/ethereumjs-tx/es5/index.js"],"sourcesContent":["const cacheUtils = require('./cache-utils.js')\nconst createAsyncMiddleware = require('json-rpc-engine/src/createAsyncMiddleware')\n// `<nil>` comes from https://github.com/ethereum/go-ethereum/issues/16925\nconst emptyValues = [undefined, null, '\\u003cnil\\u003e']\n\nmodule.exports = createBlockCacheMiddleware\n\n\nfunction createBlockCacheMiddleware(opts = {}) {\n  // validate options\n  const { blockTracker } = opts\n  if (!blockTracker) throw new Error('createBlockCacheMiddleware - No BlockTracker specified')\n\n  // create caching strategies\n  const blockCache = new BlockCacheStrategy()\n  const strategies = {\n    perma: blockCache,\n    block: blockCache,\n    fork: blockCache,\n  }\n\n  return createAsyncMiddleware(async (req, res, next) => {\n    // allow cach to be skipped if so specified\n    if (req.skipCache) {\n      return next()\n    }\n    // check type and matching strategy\n    const type = cacheUtils.cacheTypeForPayload(req)\n    const strategy = strategies[type]\n    // If there's no strategy in place, pass it down the chain.\n    if (!strategy) {\n      return next()\n    }\n    // If the strategy can't cache this request, ignore it.\n    if (!strategy.canCacheRequest(req)) {\n      return next()\n    }\n\n    // get block reference (number or keyword)\n    let blockTag = cacheUtils.blockTagForPayload(req)\n    if (!blockTag) blockTag = 'latest'\n\n    // get exact block number\n    let requestedBlockNumber\n    if (blockTag === 'earliest') {\n      // this just exists for symmetry with \"latest\"\n      requestedBlockNumber = '0x00'\n    } else if (blockTag === 'latest') {\n      // fetch latest block number\n      const latestBlockNumber = await blockTracker.getLatestBlock()\n      // clear all cache before latest block\n      blockCache.clearBefore(latestBlockNumber)\n      requestedBlockNumber = latestBlockNumber\n    } else {\n      // We have a hex number\n      requestedBlockNumber = blockTag\n    }\n\n    // end on a hit, continue on a miss\n    const cacheResult = await strategy.get(req, requestedBlockNumber)\n    if (cacheResult === undefined) {\n      // cache miss\n      // wait for other middleware to handle request\n      await next()\n      // add result to cache\n      await strategy.set(req, requestedBlockNumber, res.result)\n    } else {\n      // fill in result from cache\n      res.result = cacheResult\n    }\n  })\n}\n\n\n//\n// Cache Strategies\n//\n\nclass BlockCacheStrategy {\n  \n  constructor () {\n    this.cache = {}\n  }\n\n  getBlockCacheForPayload (payload, blockNumberHex) {\n    const blockNumber = Number.parseInt(blockNumberHex, 16)\n    let blockCache = this.cache[blockNumber]\n    // create new cache if necesary\n    if (!blockCache) {\n      const newCache = {}\n      this.cache[blockNumber] = newCache\n      blockCache = newCache\n    }\n    return blockCache\n  }\n\n  async get (payload, requestedBlockNumber) {\n    // lookup block cache\n    const blockCache = this.getBlockCacheForPayload(payload, requestedBlockNumber)\n    if (!blockCache) return\n    // lookup payload in block cache\n    const identifier = cacheUtils.cacheIdentifierForPayload(payload, true)\n    const cached = blockCache[identifier]\n    // may be undefined\n    return cached\n  }\n\n  async set (payload, requestedBlockNumber, result) {\n    // check if we can cached this result\n    const canCache = this.canCacheResult(payload, result)\n    if (!canCache) return\n    // set the value in the cache\n    const blockCache = this.getBlockCacheForPayload(payload, requestedBlockNumber)\n    const identifier = cacheUtils.cacheIdentifierForPayload(payload, true)\n    blockCache[identifier] = result\n  }\n\n  canCacheRequest (payload) {\n    // check request method\n    if (!cacheUtils.canCache(payload)) {\n      return false\n    }\n    // check blockTag\n    const blockTag = cacheUtils.blockTagForPayload(payload)\n    if (blockTag === 'pending') {\n      return false\n    }\n    // can be cached\n    return true\n  }\n\n  canCacheResult (payload, result) {\n    // never cache empty values (e.g. undefined)\n    if (emptyValues.includes(result)) return\n    // check if transactions have block reference before caching\n    if (['eth_getTransactionByHash', 'eth_getTransactionReceipt'].includes(payload.method)) {\n      if (!result || !result.blockHash || result.blockHash === '0x0000000000000000000000000000000000000000000000000000000000000000') {\n        return false\n      }\n    }\n    // otherwise true\n    return true\n  }\n\n  // removes all block caches with block number lower than `oldBlockHex`\n  clearBefore (oldBlockHex){\n    const self = this\n    const oldBlockNumber = Number.parseInt(oldBlockHex, 16)\n    // clear old caches\n    Object.keys(self.cache)\n      .map(Number)\n      .filter(num => num < oldBlockNumber)\n      .forEach(num => delete self.cache[num])\n  }\n\n}\n","const stringify = require('json-stable-stringify')\n\nmodule.exports = {\n  cacheIdentifierForPayload: cacheIdentifierForPayload,\n  canCache: canCache,\n  blockTagForPayload: blockTagForPayload,\n  paramsWithoutBlockTag: paramsWithoutBlockTag,\n  blockTagParamIndex: blockTagParamIndex,\n  cacheTypeForPayload: cacheTypeForPayload\n}\n\nfunction cacheIdentifierForPayload (payload, skipBlockRef) {\n  const simpleParams = skipBlockRef ? paramsWithoutBlockTag(payload) : payload.params\n  if (canCache(payload)) {\n    return payload.method + ':' + stringify(simpleParams)\n  } else {\n    return null\n  }\n}\n\nfunction canCache (payload) {\n  return cacheTypeForPayload(payload) !== 'never'\n}\n\nfunction blockTagForPayload (payload) {\n  let index = blockTagParamIndex(payload)\n\n  // Block tag param not passed.\n  if (index >= payload.params.length) {\n    return null\n  }\n\n  return payload.params[index]\n}\n\nfunction paramsWithoutBlockTag (payload) {\n  const index = blockTagParamIndex(payload)\n\n  // Block tag param not passed.\n  if (index >= payload.params.length) {\n    return payload.params\n  }\n\n  // eth_getBlockByNumber has the block tag first, then the optional includeTx? param\n  if (payload.method === 'eth_getBlockByNumber') {\n    return payload.params.slice(1)\n  }\n\n  return payload.params.slice(0, index)\n}\n\nfunction blockTagParamIndex (payload) {\n  switch (payload.method) {\n    // blockTag is at index 2\n    case 'eth_getStorageAt':\n      return 2\n    // blockTag is at index 1\n    case 'eth_getBalance':\n    case 'eth_getCode':\n    case 'eth_getTransactionCount':\n    case 'eth_call':\n      return 1\n    // blockTag is at index 0\n    case 'eth_getBlockByNumber':\n      return 0\n    // there is no blockTag\n    default:\n      return undefined\n  }\n}\n\nfunction cacheTypeForPayload (payload) {\n  switch (payload.method) {\n    // cache permanently\n    case 'web3_clientVersion':\n    case 'web3_sha3':\n    case 'eth_protocolVersion':\n    case 'eth_getBlockTransactionCountByHash':\n    case 'eth_getUncleCountByBlockHash':\n    case 'eth_getCode':\n    case 'eth_getBlockByHash':\n    case 'eth_getTransactionByHash':\n    case 'eth_getTransactionByBlockHashAndIndex':\n    case 'eth_getTransactionReceipt':\n    case 'eth_getUncleByBlockHashAndIndex':\n    case 'eth_getCompilers':\n    case 'eth_compileLLL':\n    case 'eth_compileSolidity':\n    case 'eth_compileSerpent':\n    case 'shh_version':\n    case 'test_permaCache':\n      return 'perma'\n\n    // cache until fork\n    case 'eth_getBlockByNumber':\n    case 'eth_getBlockTransactionCountByNumber':\n    case 'eth_getUncleCountByBlockNumber':\n    case 'eth_getTransactionByBlockNumberAndIndex':\n    case 'eth_getUncleByBlockNumberAndIndex':\n    case 'test_forkCache':\n      return 'fork'\n\n    // cache for block\n    case 'eth_gasPrice':\n    case 'eth_blockNumber':\n    case 'eth_getBalance':\n    case 'eth_getStorageAt':\n    case 'eth_getTransactionCount':\n    case 'eth_call':\n    case 'eth_estimateGas':\n    case 'eth_getFilterLogs':\n    case 'eth_getLogs':\n    case 'test_blockCache':\n      return 'block'\n\n    // never cache\n    case 'net_version':\n    case 'net_peerCount':\n    case 'net_listening':\n    case 'eth_syncing':\n    case 'eth_sign':\n    case 'eth_coinbase':\n    case 'eth_mining':\n    case 'eth_hashrate':\n    case 'eth_accounts':\n    case 'eth_sendTransaction':\n    case 'eth_sendRawTransaction':\n    case 'eth_newFilter':\n    case 'eth_newBlockFilter':\n    case 'eth_newPendingTransactionFilter':\n    case 'eth_uninstallFilter':\n    case 'eth_getFilterChanges':\n    case 'eth_getWork':\n    case 'eth_submitWork':\n    case 'eth_submitHashrate':\n    case 'db_putString':\n    case 'db_getString':\n    case 'db_putHex':\n    case 'db_getHex':\n    case 'shh_post':\n    case 'shh_newIdentity':\n    case 'shh_hasIdentity':\n    case 'shh_newGroup':\n    case 'shh_addToGroup':\n    case 'shh_newFilter':\n    case 'shh_uninstallFilter':\n    case 'shh_getFilterChanges':\n    case 'shh_getMessages':\n    case 'test_neverCache':\n      return 'never'\n  }\n}\n","/**\n * JsonRpcEngine only accepts callback-based middleware directly.\n * createAsyncMiddleware exists to enable consumers to pass in async middleware\n * functions.\n *\n * Async middleware have no \"end\" function. Instead, they \"end\" if they return\n * without calling \"next\". Rather than passing in explicit return handlers,\n * async middleware can simply await \"next\", and perform operations on the\n * response object when execution resumes.\n *\n * To accomplish this, createAsyncMiddleware passes the async middleware a\n * wrapped \"next\" function. That function calls the internal JsonRpcEngine\n * \"next\" function with a return handler that resolves a promise when called.\n *\n * The return handler will always be called. Its resolution of the promise\n * enables the control flow described above.\n */\n\nmodule.exports = function createAsyncMiddleware (asyncMiddleware) {\n  return (req, res, next, end) => {\n\n    // nextPromise is the key to the implementation\n    // it is resolved by the return handler passed to the\n    // \"next\" function\n    let resolveNextPromise\n    const nextPromise = new Promise((resolve) => {\n      resolveNextPromise = resolve\n    })\n\n    let returnHandlerCallback, nextWasCalled\n\n    const asyncNext = async () => {\n\n      nextWasCalled = true\n\n      next((callback) => { // eslint-disable-line callback-return\n        returnHandlerCallback = callback\n        resolveNextPromise()\n      })\n      await nextPromise\n    }\n\n    asyncMiddleware(req, res, asyncNext)\n      .then(async () => {\n        if (nextWasCalled) {\n          await nextPromise // we must wait until the return handler is called\n          returnHandlerCallback(null)\n        } else {\n          end(null)\n        }\n      })\n      .catch((error) => {\n        if (returnHandlerCallback) {\n          returnHandlerCallback(error)\n        } else {\n          end(error)\n        }\n      })\n  }\n}\n","'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ethUtil = require('ethereumjs-util');\nvar fees = require('ethereum-common/params.json');\nvar BN = ethUtil.BN;\n\n// secp256k1n/2\nvar N_DIV_2 = new BN('7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0', 16);\n\n/**\n * Creates a new transaction object.\n *\n * @example\n * var rawTx = {\n *   nonce: '00',\n *   gasPrice: '09184e72a000',\n *   gasLimit: '2710',\n *   to: '0000000000000000000000000000000000000000',\n *   value: '00',\n *   data: '7f7465737432000000000000000000000000000000000000000000000000000000600057',\n *   v: '1c',\n *   r: '5e1d3a76fbf824220eafc8c79ad578ad2b67d01b0c2425eb1f1347e8f50882ab',\n *   s: '5bd428537f05f9830e93792f90ea6a3e2d1ee84952dd96edbae9f658f831ab13'\n * };\n * var tx = new Transaction(rawTx);\n *\n * @class\n * @param {Buffer | Array | Object} data a transaction can be initiailized with either a buffer containing the RLP serialized transaction or an array of buffers relating to each of the tx Properties, listed in order below in the exmple.\n *\n * Or lastly an Object containing the Properties of the transaction like in the Usage example.\n *\n * For Object and Arrays each of the elements can either be a Buffer, a hex-prefixed (0x) String , Number, or an object with a toBuffer method such as Bignum\n *\n * @property {Buffer} raw The raw rlp encoded transaction\n * @param {Buffer} data.nonce nonce number\n * @param {Buffer} data.gasLimit transaction gas limit\n * @param {Buffer} data.gasPrice transaction gas price\n * @param {Buffer} data.to to the to address\n * @param {Buffer} data.value the amount of ether sent\n * @param {Buffer} data.data this will contain the data of the message or the init of a contract\n * @param {Buffer} data.v EC signature parameter\n * @param {Buffer} data.r EC signature parameter\n * @param {Buffer} data.s EC recovery ID\n * @param {Number} data.chainId EIP 155 chainId - mainnet: 1, ropsten: 3\n * */\n\nvar Transaction = function () {\n  function Transaction(data) {\n    _classCallCheck(this, Transaction);\n\n    data = data || {};\n    // Define Properties\n    var fields = [{\n      name: 'nonce',\n      length: 32,\n      allowLess: true,\n      default: new Buffer([])\n    }, {\n      name: 'gasPrice',\n      length: 32,\n      allowLess: true,\n      default: new Buffer([])\n    }, {\n      name: 'gasLimit',\n      alias: 'gas',\n      length: 32,\n      allowLess: true,\n      default: new Buffer([])\n    }, {\n      name: 'to',\n      allowZero: true,\n      length: 20,\n      default: new Buffer([])\n    }, {\n      name: 'value',\n      length: 32,\n      allowLess: true,\n      default: new Buffer([])\n    }, {\n      name: 'data',\n      alias: 'input',\n      allowZero: true,\n      default: new Buffer([])\n    }, {\n      name: 'v',\n      allowZero: true,\n      default: new Buffer([0x1c])\n    }, {\n      name: 'r',\n      length: 32,\n      allowZero: true,\n      allowLess: true,\n      default: new Buffer([])\n    }, {\n      name: 's',\n      length: 32,\n      allowZero: true,\n      allowLess: true,\n      default: new Buffer([])\n    }];\n\n    /**\n     * Returns the rlp encoding of the transaction\n     * @method serialize\n     * @return {Buffer}\n     * @memberof Transaction\n     * @name serialize\n     */\n    // attached serialize\n    ethUtil.defineProperties(this, fields, data);\n\n    /**\n     * @property {Buffer} from (read only) sender address of this transaction, mathematically derived from other parameters.\n     * @name from\n     * @memberof Transaction\n     */\n    Object.defineProperty(this, 'from', {\n      enumerable: true,\n      configurable: true,\n      get: this.getSenderAddress.bind(this)\n    });\n\n    // calculate chainId from signature\n    var sigV = ethUtil.bufferToInt(this.v);\n    var chainId = Math.floor((sigV - 35) / 2);\n    if (chainId < 0) chainId = 0;\n\n    // set chainId\n    this._chainId = chainId || data.chainId || 0;\n    this._homestead = true;\n  }\n\n  /**\n   * If the tx's `to` is to the creation address\n   * @return {Boolean}\n   */\n\n\n  Transaction.prototype.toCreationAddress = function toCreationAddress() {\n    return this.to.toString('hex') === '';\n  };\n\n  /**\n   * Computes a sha3-256 hash of the serialized tx\n   * @param {Boolean} [includeSignature=true] whether or not to inculde the signature\n   * @return {Buffer}\n   */\n\n\n  Transaction.prototype.hash = function hash(includeSignature) {\n    if (includeSignature === undefined) includeSignature = true;\n\n    // EIP155 spec:\n    // when computing the hash of a transaction for purposes of signing or recovering,\n    // instead of hashing only the first six elements (ie. nonce, gasprice, startgas, to, value, data),\n    // hash nine elements, with v replaced by CHAIN_ID, r = 0 and s = 0\n\n    var items = void 0;\n    if (includeSignature) {\n      items = this.raw;\n    } else {\n      if (this._chainId > 0) {\n        var raw = this.raw.slice();\n        this.v = this._chainId;\n        this.r = 0;\n        this.s = 0;\n        items = this.raw;\n        this.raw = raw;\n      } else {\n        items = this.raw.slice(0, 6);\n      }\n    }\n\n    // create hash\n    return ethUtil.rlphash(items);\n  };\n\n  /**\n   * returns the public key of the sender\n   * @return {Buffer}\n   */\n\n\n  Transaction.prototype.getChainId = function getChainId() {\n    return this._chainId;\n  };\n\n  /**\n   * returns the sender's address\n   * @return {Buffer}\n   */\n\n\n  Transaction.prototype.getSenderAddress = function getSenderAddress() {\n    if (this._from) {\n      return this._from;\n    }\n    var pubkey = this.getSenderPublicKey();\n    this._from = ethUtil.publicToAddress(pubkey);\n    return this._from;\n  };\n\n  /**\n   * returns the public key of the sender\n   * @return {Buffer}\n   */\n\n\n  Transaction.prototype.getSenderPublicKey = function getSenderPublicKey() {\n    if (!this._senderPubKey || !this._senderPubKey.length) {\n      if (!this.verifySignature()) throw new Error('Invalid Signature');\n    }\n    return this._senderPubKey;\n  };\n\n  /**\n   * Determines if the signature is valid\n   * @return {Boolean}\n   */\n\n\n  Transaction.prototype.verifySignature = function verifySignature() {\n    var msgHash = this.hash(false);\n    // All transaction signatures whose s-value is greater than secp256k1n/2 are considered invalid.\n    if (this._homestead && new BN(this.s).cmp(N_DIV_2) === 1) {\n      return false;\n    }\n\n    try {\n      var v = ethUtil.bufferToInt(this.v);\n      if (this._chainId > 0) {\n        v -= this._chainId * 2 + 8;\n      }\n      this._senderPubKey = ethUtil.ecrecover(msgHash, v, this.r, this.s);\n    } catch (e) {\n      return false;\n    }\n\n    return !!this._senderPubKey;\n  };\n\n  /**\n   * sign a transaction with a given a private key\n   * @param {Buffer} privateKey\n   */\n\n\n  Transaction.prototype.sign = function sign(privateKey) {\n    var msgHash = this.hash(false);\n    var sig = ethUtil.ecsign(msgHash, privateKey);\n    if (this._chainId > 0) {\n      sig.v += this._chainId * 2 + 8;\n    }\n    Object.assign(this, sig);\n  };\n\n  /**\n   * The amount of gas paid for the data in this tx\n   * @return {BN}\n   */\n\n\n  Transaction.prototype.getDataFee = function getDataFee() {\n    var data = this.raw[5];\n    var cost = new BN(0);\n    for (var i = 0; i < data.length; i++) {\n      data[i] === 0 ? cost.iaddn(fees.txDataZeroGas.v) : cost.iaddn(fees.txDataNonZeroGas.v);\n    }\n    return cost;\n  };\n\n  /**\n   * the minimum amount of gas the tx must have (DataFee + TxFee + Creation Fee)\n   * @return {BN}\n   */\n\n\n  Transaction.prototype.getBaseFee = function getBaseFee() {\n    var fee = this.getDataFee().iaddn(fees.txGas.v);\n    if (this._homestead && this.toCreationAddress()) {\n      fee.iaddn(fees.txCreation.v);\n    }\n    return fee;\n  };\n\n  /**\n   * the up front amount that an account must have for this transaction to be valid\n   * @return {BN}\n   */\n\n\n  Transaction.prototype.getUpfrontCost = function getUpfrontCost() {\n    return new BN(this.gasLimit).imul(new BN(this.gasPrice)).iadd(new BN(this.value));\n  };\n\n  /**\n   * validates the signature and checks to see if it has enough gas\n   * @param {Boolean} [stringError=false] whether to return a string with a dscription of why the validation failed or return a Bloolean\n   * @return {Boolean|String}\n   */\n\n\n  Transaction.prototype.validate = function validate(stringError) {\n    var errors = [];\n    if (!this.verifySignature()) {\n      errors.push('Invalid Signature');\n    }\n\n    if (this.getBaseFee().cmp(new BN(this.gasLimit)) > 0) {\n      errors.push(['gas limit is too low. Need at least ' + this.getBaseFee()]);\n    }\n\n    if (stringError === undefined || stringError === false) {\n      return errors.length === 0;\n    } else {\n      return errors.join(' ');\n    }\n  };\n\n  return Transaction;\n}();\n\nmodule.exports = Transaction;"],"names":["cacheUtils","require","createAsyncMiddleware","emptyValues","undefined","module","exports","opts","blockTracker","Error","blockCache","BlockCacheStrategy","strategies","perma","block","fork","req","res","next","skipCache","type","cacheTypeForPayload","strategy","canCacheRequest","blockTag","blockTagForPayload","requestedBlockNumber","getLatestBlock","latestBlockNumber","clearBefore","get","cacheResult","set","result","this","cache","payload","blockNumberHex","blockNumber","Number","parseInt","newCache","getBlockCacheForPayload","identifier","cacheIdentifierForPayload","cached","canCacheResult","canCache","includes","method","blockHash","oldBlockHex","self","oldBlockNumber","Object","keys","map","filter","num","forEach","stringify","paramsWithoutBlockTag","index","blockTagParamIndex","params","length","slice","skipBlockRef","simpleParams","asyncMiddleware","end","resolveNextPromise","returnHandlerCallback","nextWasCalled","nextPromise","Promise","resolve","asyncNext","callback","then","catch","error","ethUtil","fees","BN","N_DIV_2","Transaction","data","instance","Constructor","TypeError","_classCallCheck","fields","name","allowLess","default","Buffer","alias","allowZero","defineProperties","defineProperty","enumerable","configurable","getSenderAddress","bind","sigV","bufferToInt","v","chainId","Math","floor","_chainId","_homestead","prototype","toCreationAddress","to","toString","hash","includeSignature","items","raw","r","s","rlphash","getChainId","_from","pubkey","getSenderPublicKey","publicToAddress","_senderPubKey","verifySignature","msgHash","cmp","ecrecover","e","sign","privateKey","sig","ecsign","assign","getDataFee","cost","i","iaddn","txDataZeroGas","txDataNonZeroGas","getBaseFee","fee","txGas","txCreation","getUpfrontCost","gasLimit","imul","gasPrice","iadd","value","validate","stringError","errors","push","join"],"sourceRoot":""}